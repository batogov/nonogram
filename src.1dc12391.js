parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dgAm":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(e,t){return new Array(e).fill(0).map(function(){return new Array(t).fill("empty")})};exports.getSequences=function(e){for(var t=[],n=0;n<e.length;n++)1===e[n]&&(0===n?t.push(1):1===e[n-1]?t[t.length-1]=t[t.length-1]+1:t.push(1));return 0===t.length?[0]:t},exports.getAllHorizontalSequences=function(e){for(var t=[],n=0;n<e.length;n++)t.push(exports.getSequences(e[n]));return t},exports.getAllVerticalSequences=function(e){for(var t=[],n=function(n){var i=e.map(function(e){return e[n]});t.push(exports.getSequences(i))},i=0;i<e[0].length;i++)n(i);return t};var t=function(){function t(t,n){this.mode="coloring",this.lifeCounter=3,this.picture=t,this.view=n,this.field=e(t.length,t[0].length),this.verticalSequences=exports.getAllVerticalSequences(t),this.horizontalSequences=exports.getAllHorizontalSequences(t)}return t.prototype.render=function(){this.view.render({field:this.field,lifeCounter:this.lifeCounter,horizontalSequences:this.horizontalSequences,verticalSequences:this.verticalSequences})},t.prototype.handleNewGameButtonClick=function(){this.lifeCounter=3,this.field=e(this.picture.length,this.picture[0].length),this.view.renderEndGame(!1),this.init()},t.prototype.handleCellClick=function(e,t){"empty"===this.field[e][t]&&0!==this.lifeCounter&&("coloring"===this.mode&&(1===this.picture[e][t]?this.field[e][t]="colored":(this.field[e][t]="crossed",this.lifeCounter-=1)),"crossing"===this.mode&&(1!==this.picture[e][t]?this.field[e][t]="crossed":(this.field[e][t]="colored",this.lifeCounter-=1)),0===this.lifeCounter&&this.view.renderEndGame(!0),this.render())},t.prototype.handleModeChange=function(e){this.mode=e},t.prototype.init=function(){var e=this;this.view.initHandlers({handleCellClick:function(t,n){return e.handleCellClick(t,n)},handleModeChange:function(t){return e.handleModeChange(t)},handleNewGameButtonClick:function(){return e.handleNewGameButtonClick()}}),this.render()},t}();exports.Game=t;
},{}],"CBC0":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,t,n,l){this.element=null,this.form=null,this.lifeCounterElement=null,this.endGameElement=null,this.element=e,this.form=t,this.lifeCounterElement=n,this.endGameElement=l}return e.prototype.getAllVerticalSequencesElement=function(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;n++){var l=document.createElement("div");l.classList.add("vertical-seqs");for(var i=0;i<e[n].length;i++){var a=document.createElement("span");a.classList.add("vertical-seqs__item"),a.textContent=String(e[n][i]),l.appendChild(a)}t.appendChild(l)}return t},e.prototype.getHorizontalSequencesElement=function(e,t){var n=document.createElement("div");n.classList.add("horizontal-seqs");for(var l=0;l<t[e].length;l++){var i=document.createElement("span");i.classList.add("horizontal-seqs__item"),i.textContent=String(t[e][l]),n.appendChild(i)}return n},e.prototype.renderEndGame=function(e){this.endGameElement&&(e?this.endGameElement.classList.remove("end-game_hidden"):this.endGameElement.classList.add("end-game_hidden"))},e.prototype.render=function(e){var t=e.field,n=e.horizontalSequences,l=e.verticalSequences,i=e.lifeCounter;if(this.lifeCounterElement&&(this.lifeCounterElement.textContent="Lives: "+i),this.element){this.element.innerHTML="";var a=document.createElement("div");a.classList.add("corner-cell"),this.element.appendChild(a),this.element.appendChild(this.getAllVerticalSequencesElement(l));for(var s=0;s<t.length;s++){this.element.appendChild(this.getHorizontalSequencesElement(s,n));for(var r=0;r<t[0].length;r++){var d=document.createElement("div");d.classList.add("cell"),"colored"===t[s][r]&&d.classList.add("cell_colored"),"crossed"===t[s][r]&&d.classList.add("cell_crossed"),d.dataset.i=String(s),d.dataset.j=String(r),this.element.appendChild(d)}}}},e.prototype.initHandlers=function(e){var t=e.handleCellClick,n=e.handleModeChange,l=e.handleNewGameButtonClick;if(this.element&&this.element.addEventListener("click",function(e){if(e.target instanceof HTMLDivElement&&e.target.classList.contains("cell")){var n=Number(e.target.dataset.i),l=Number(e.target.dataset.j);t(n,l)}}),this.form&&this.form.addEventListener("change",function(e){e.target instanceof HTMLInputElement&&("coloring"===e.target.value&&n("coloring"),"crossing"===e.target.value&&n("crossing"))}),this.endGameElement){var i=this.endGameElement.querySelector("button");i&&i.addEventListener("click",function(){l()})}},e}();exports.View=e;
},{}],"9B6d":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./game"),r=require("./view"),t=document.querySelector("#field"),u=document.querySelector("#form"),o=document.querySelector("#life-counter"),c=document.querySelector("#end-game"),i=[[0,1,1,0,0],[0,1,0,1,0],[1,1,1,1,1],[1,1,1,0,1],[0,1,1,0,0]],n=new r.View(t,u,o,c),m=new e.Game(i,n);m.init();
},{"./game":"dgAm","./view":"CBC0"}]},{},["9B6d"], null)
//# sourceMappingURL=/src.1dc12391.js.map